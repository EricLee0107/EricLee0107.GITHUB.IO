---
title: shell学习笔记4
author: 李志伟
tags: [shell]
copyright: true
categories:
  - shell学习笔记
toc: true
date: 2018-07-03 13:07:09
---


摘要： find命令
<!-- more-->

### find命令

**用途**： 查找文件
**用法**： find 路径 选项 参数
**常用选项**：

*-print*: 以`\n`作为每个匹配项文件名的分隔符（每行一个文件名），默认输出选项就是（-print)
*-print0*:以`\0`作为每个匹配项文件名的分隔符（都输出在同一行）主要是用于一些名称中存在换行符的时候。
*-name*: 用于指定文件名样式，大小写敏感
*-iname*:作用于name相同，忽略大小写
*-path*:将文件路径作为整体进行样式匹配
*-regex*:与`-path`作用相同，只是通过正则表达式指定匹配样式
*-maxdepth*:设置最大目录层级
*-mindepth*:设置最小目录层级
*！*：否定参数，用于否定查找，比如当前文件夹下所有非txt文件 ` find . ! -name "*.txt"
*-delete*:删除匹配的文件
*-perm*:根据权限值查找
*-user*:根据特定用户查找（查找特定用户拥有的文件）
*-exec*:对找到的文件执行后续命令

**根据文件类型查找**

使用选项参数`-type`可以查找指定类型的文件。

文件类型：
- f:普通文件
- l:符号链接
- d:目录文件
- c:字符设备
- b:块设备
- s:套接字
- p:FIFO

eg.`find . -type f -user test` 查找当前目录下所有test用户的文件

**根据时间查找**

linux系统有三种时间戳：访问时间、修改时间、变化时间。

根据访问时间查找可以通过`-atime 天数`或`-amin 分钟数` 两个不同单位选项来查找。
根据修改时间查找可以通过`-mtime 天数`或`-mmin 分钟数` 两个不同单位选项来查找。
根据变化时间（文件属于源修改时间）查找可以通过`-ctime 天数`或`-cmin 分钟数` 两个不同单位选项来查找。

在根据时间查找时，时间戳前加 `-`表示小于时间戳时间长度，`+`表示大于时间戳长度 什么都不加表示等于

eg. 
 `find . -type f -atime -7` 查找当前目录最近七天内被访问过的所有文件
 `find . -type f -atime 7` 查找当前目录恰好在七天前被访问过的所有文件
 `find . -type f -atime +7` 查找当前目录超过七天前被访问过的所有文件（即最近七天没有被访问）


 **根据文件大小搜索**

文件单元前加`+`表示大于；加`-`表示小于；不加代表等于。

文件大小单元:

- b:块（512字节）
- c:字节
- w:字(2字节)
- k 
- M
- G

eg. 
`find . -type f -size 2k` 查找当前目录等于2k的文件