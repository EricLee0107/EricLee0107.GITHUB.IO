---
title: shell学习笔记2
author: 李志伟
tags: [shell]
copyright: true
categories:
  - shell学习笔记
toc: true
date: 2018-05-24 20:06:27
---
摘要： 变量、数组、命令别名
<!-- more-->
### 变量

给变量赋值： `var="123"`。
变量相等：`var = "123"`
**注意：等号前后如果有空格就是判断变量相等，没空格才是赋值**
获取字符串长度: 
```
echo ${#var}
```
获取当前使用的shell类型:`echo $SHELL` 或 `echo $0`
检查当前用户是否为root用户:`echo UID` 如果输出结果是0 则代表为root用户

### 将输出文本保存到文件

清空原有内容并写入：`echo "写入的文本">test.txt`
在原文本中追加内容：`echo "写入的文本">>test.txt`

### 数组

#### 数组的定义

**普通数组**

普通数组索引值从0开始，eg：`array1=（1 2 3 4 5 6）`

**关联数组**

关联数组的所以需要自定义，关联数组需要先声明再定义。
关联数组声明：`declare -A ass_array`
关联数组定义：`ass_array=([index1]=val1 [index2]=val2)

#### 数组显示

输出数组：`echo "${数组名[索引]}"`
输出数组所有值：`echo "${数组名[*]}"`或者`echo "${数组名[@]}"`
列出数组的素有索引：`echo "${!数组名[*]}"`或者`echo "${!数组名[@]}"`


### 命令别名

在终端中可以通过下面的方式来临时改变命令序列的别名：
alias 命令别名=\`原命令序列\`

临时别名会在关闭终端时清空。
如果打算永久改变命令别名，可以在`~/.bashrc`文件中加入:alias 命令别名=\`原命令序列\`

清空别名可以通过：`unalias 别名`或者设置别名为空`alias 别名=`
如果在一些不可信任的环境下执行特权命令，最好在命令前加`\`来忽略别名设置，执行原有命令（避免有人恶意改变原命令序列）


